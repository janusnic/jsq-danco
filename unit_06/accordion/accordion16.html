<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Accordion</title>
        <link rel="stylesheet" href="css/smoothness/jquery-ui-1.8.9.custom.css">
	</head>
	<body>
        <div id="myAccordion">
            <h2><a href="#">Header 1</a></h2>
            <div>Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean sollicitudin. Sed interdum pulvinar justo. Nam iaculis volutpat ligula. Integer vitae felis quis diam laoreet ullamcorper.</div>
            <h2><a href="#">Header 2</a></h2>
            <div>Etiam tincidunt est vitae est. Ut posuere, mauris at sodales rutrum, turpis tellus fermentum metus, ut bibendum velit enim eu lectus. Suspendisse poten-ti.</div>
            <h2 id="remote"><a href="remoteAccordion.txt">Remote</a></h2>
            <div></div>
        </div>
        <script src="development-bundle/jquery-1.4.4.js"></script>
        <script src="development-bundle/ui/jquery.ui.core.js"></script>
        <script src="development-bundle/ui/jquery.ui.widget.js"></script>
        <script src="development-bundle/ui/jquery.ui.accordion.js"></script>
        <script>
			(function($){
				var accOpts = {
					changestart: function(e, ui) {
						if (ui.newHeader.attr("id") === "remote") {
						
							$.get(ui.newHeader.find("a").attr("href"), function(data) {
								ui.newHeader.next().text(data);
							});
							
						}
					},
					change: function(e, ui) {
						ui.newHeader.closest("#myAccordion").accordion("resize");	
					}
				};
				
				$("#myAccordion").accordion(accOpts);
			})(jQuery);
		</script>
	</body>
</html>